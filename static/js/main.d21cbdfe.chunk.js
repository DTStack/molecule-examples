(this["webpackJsonpmolecule-demo"]=this["webpackJsonpmolecule-demo"]||[]).push([[2],{602:function(e,t,n){},845:function(e,t,n){},846:function(e,t,n){},847:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n.n(a),c=n(111),i=n.n(c),o=n(592),s=(n(602),n(92)),u=(n(842),n(0)),d=n(1),l=n(11),b=n.n(l),j=n(205),h=n(3),f=n(4),m=n(142),v=n(39),p=n(341),O=(n(843),new(function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,[{key:"get",value:function(e,t){var n=t?this.build(e,t):e;return this.request(n,{method:"GET"})}},{key:"post",value:function(e,t){var n={method:"POST"};return t&&(n.body=JSON.stringify(t)),this.request(e,n)}},{key:"postAsFormData",value:function(e,t){var n={method:"POST"};return t&&(n.body=this.buildFormData(t)),this.request(e,n)}},{key:"postForm",value:function(e,t){var n={method:"POST"};return t&&(n.body=new FormData(t)),this.request(e,n)}},{key:"request",value:function(e,t){return t.credentials="same-origin",t.headers=Object(p.a)({},t.headers),fetch(e,t).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}))}},{key:"defaultHeader",value:function(){return{Accept:"*/*","Content-Type":"application/json"}}},{key:"build",value:function(e,t){var n=[];if(t)for(var a in t)a&&n.push(a+"="+encodeURIComponent(t[a]));return e+"?"+n.join("&")}},{key:"buildFormData",value:function(e){if(e){var t=new FormData;for(var n in e)n&&t.append(n,e[n]);return t}}}]),e}())),x="./mock",g={getFolderTree:function(){return O.get("".concat(x,"/folderTree.json"))},search:function(e){return O.get("".concat(x,"/folderTree.json"),{query:e})},getDataSource:function(){return O.get("".concat(x,"/dataSource.json"))},getDataSourceById:function(e){return new Promise((function(t,n){t({id:e,name:"dataSource"+e,type:"MySQL",jdbcUrl:"http://jdbc:127.0.0.1//3306",updateTime:Date.now()+""})}))},createDataSource:function(e){return new Promise((function(t,n){t({code:200,message:"success",data:e})}))},query:function(){var e=arguments;return Object(j.a)(b.a.mark((function t(){var n,a,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:"",t.next=3,O.get("".concat(x,"/folderTree.json"));case 3:return a=t.sent,r=[],function e(t){if(t){var a=t.name||"";(a.includes(n)||n.includes(a))&&r.push(t),t.children&&t.children.forEach((function(t){e(t)}))}}(a.data),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})))()}},S=g,y=n(47),k={margin:10,display:"block"};var D,w,T=function(e){var t=e.dataSource,n=void 0===t?{}:t,a=n.name,r=n.type,c=n.jdbcUrl,i=n.updateTime;return Object(y.jsx)("div",{className:"dataSource__detail",children:Object(y.jsxs)("table",{style:k,children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:"Name\uff1a"}),Object(y.jsx)("td",{children:a})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:"Type\uff1a"}),Object(y.jsx)("td",{children:r})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:"JdbcUrl\uff1a"}),Object(y.jsx)("td",{children:c})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:"Update Time\uff1a"}),Object(y.jsx)("td",{children:i})]})]})})},C=s.b.component.TreeView,F=s.b.component.Toolbar,P=s.b.component.Collapse,B=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={data:[],currentDataSource:void 0},e.fetchDataSource=function(){var t=Object(j.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.getDataSourceById(n);case 2:a=t.sent,e.setState({currentDataSource:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.selectedSource=function(t){t.isLeaf&&e.fetchDataSource(t.id)},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.fetchData(),s.b.event.EventBus.subscribe("addDataSource",(function(){e.reload()}))}},{key:"fetchData",value:function(){var e=Object(j.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getDataSource();case 2:"success"===(t=e.sent).message&&this.setState({data:t.data.children||[]});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reload",value:function(){this.fetchData()}},{key:"create",value:function(){s.b.editor.open($)}},{key:"renderHeaderToolbar",value:function(){var e=this;return[{icon:"refresh",id:"reload",title:"Reload",onClick:function(){return e.reload()}},{icon:"add",id:"addDataSource",title:"Create Data Source",onClick:function(){return e.create()}}]}},{key:"renderCollapse",value:function(){var e=this,t=this.state.currentDataSource;return[{id:"DataSourceList",name:"Catalogue",renderPanel:function(){return Object(y.jsx)(C,{data:e.state.data,onSelect:e.selectedSource})}},{id:"DataSourceDetail",name:"Detail",renderPanel:function(){return Object(y.jsx)(T,{dataSource:t})}}]}},{key:"render",value:function(){return Object(y.jsxs)("div",{className:"dataSource",style:{width:"100%",height:"100%"},children:[Object(y.jsx)(m.b,{title:Object(v.a)("demo.dataSourceManagement","DataSource Management"),toolbar:Object(y.jsx)(F,{data:this.renderHeaderToolbar()})}),Object(y.jsx)(m.a,{children:Object(y.jsx)(P,{data:this.renderCollapse()})})]})}}]),n}(r.a.Component),z=B,N=n(263),M=n(264),E=n(25),I=n(593),R=["id","label","name","children"],U=s.b.component.Input,L=M.a.div(D||(D=Object(N.a)(["\n    margin-bottom: 10px;\n"]))),q=M.a.label(w||(w=Object(N.a)(["\n    line-height: 28px;\n"])));function _(e){var t=e.id,n=e.label,a=e.name,r=e.children,c=Object(I.a)(e,R);return Object(y.jsxs)(L,Object(p.a)(Object(p.a)({},c),{},{children:[n?Object(y.jsxs)(q,{title:n,htmlFor:t,children:[n,":"]}):null,r||Object(y.jsx)(U,{id:t,name:a||n,autoComplete:"false"})]}))}var A,H,J=n(241),V=s.b.component.Button,G=M.a.div(A||(A=Object(N.a)(["\n    width: 50%;\n    margin: auto;\n"]))),K=Object(M.a)(V)(H||(H=Object(N.a)(["\n    width: 120px;\n    display: inline-block;\n"]))),Q=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={data:[],currentDataSource:void 0},a.formRef=void 0,a.submit=function(){var e=Object(j.a)(b.a.mark((function e(t){var n,r,c,i,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new FormData(a.formRef.current||void 0),o={name:(null===(n=i.get("name"))||void 0===n?void 0:n.toString())||"",type:(null===(r=i.get("type"))||void 0===r?void 0:r.toString())||"",jdbcUrl:(null===(c=i.get("jdbcUrl"))||void 0===c?void 0:c.toString())||"",updateTime:(new Date).getTime().toString()},S.createDataSource(o).then((function(e){200===e.code&&(s.b.notification.add([{id:2,value:o,render:function(e){return Object(y.jsxs)("p",{children:["Create the Database ",Object(y.jsx)("b",{children:e.value.name})," is success!"]})}}]),E.a.resolve(J.NotificationController).toggleNotifications())}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.close=function(){var e=Object(j.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:te();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.formRef=r.a.createRef(),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(y.jsx)(G,{className:"dataSource__create",children:Object(y.jsxs)("form",{ref:this.formRef,onSubmit:this.submit,children:[Object(y.jsx)(_,{label:"Name",name:"name"}),Object(y.jsx)(_,{label:"Type",name:"type"}),Object(y.jsx)(_,{label:"JdbcUrl",name:"jdbcUrl"}),Object(y.jsxs)(_,{style:{textAlign:"left"},children:[Object(y.jsx)(K,{style:{marginLeft:0},onClick:this.submit,children:"Create"}),Object(y.jsx)(K,{onClick:this.close,children:"Close"})]})]})})}}]),n}(r.a.Component),W=Q,X="DataSource",Y={id:X,sortIndex:-1,name:"Data Source",title:"Data Source Management",icon:"database"},Z={id:X,title:"DataSourcePane",render:function(){return Object(y.jsx)(z,{})}},$={id:X,name:"Create Data Source",renderPane:function(){return Object(y.jsx)(W,{})}},ee={id:"menu.createDataSource",name:Object(v.a)("menu.createDataSource","Create Data Source"),icon:""};function te(){var e=s.b.editor.getState().current;e&&s.b.editor.closeTab($.id,e.id)}var ne=function(){function e(){Object(u.a)(this,e),this.id=X,this.name="Data Source"}return Object(d.a)(e,[{key:"activate",value:function(e){this.initUI()}},{key:"initUI",value:function(){s.b.sidebar.add(Z),s.b.activityBar.add(Y),setTimeout((function(){s.b.menuBar.append(ee,"File")}))}},{key:"dispose",value:function(e){s.b.sidebar.remove(Z.id),s.b.activityBar.remove(Y.id)}}]),e}(),ae=n(60);function re(e){var t=e;return t.breadcrumb=e.location?e.location.split("/").map((function(e){return{id:e,name:e}})):[],t}var ce=n(85),ie={id:"LanguageStatus",sortIndex:3};function oe(){return(oe=Object(j.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getFolderTree();case 2:"success"===(t=e.sent).message&&(n=Object(ce.cloneDeep)(t.data),s.b.folderTree.add(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){if(e){e=e.toUpperCase();var t=s.b.statusBar.getStatusBarItem(ie.id,ae.Float.right);t?(t.name=e,s.b.statusBar.update(t,ae.Float.right)):s.b.statusBar.add(Object.assign({},ie,{name:e}),ae.Float.right)}}var ue=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"TheFirstExtension",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"The First Extension";Object(u.a)(this,e),this.id="",this.name="",this.id=t,this.name=n}return Object(d.a)(e,[{key:"activate",value:function(e){!function(){oe.apply(this,arguments)}(),s.b.folderTree.onSelectFile((function(e){s.b.editor.open(re(e)),se(e.data.language)})),function(){var e=s.b.editor;e.onSelectTab((function(t,n){if(n){var a=e.getGroupById(n);if(a){var r=e.getTabById(t,a.id);r&&se(r.data.language)}}}))}(),s.b.search.onSearch(function(){var e=Object(j.a)(b.a.mark((function e(t,n,a){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,S.search(t);case 4:"success"===(r=e.sent).message&&s.b.search.setResult(r.data.children);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),s.b.search.onResultClick((function(e){s.b.editor.open(re(e))}))}},{key:"dispose",value:function(e){throw new Error("Method not implemented.")}}]),e}(),de=[new ue,new ne],le=(n(61),n(261)),be=n.n(le),je=n(206),he=n.n(je),fe=n(312),me=n(302),ve=n(273),pe=n(388),Oe=n(113),xe=n(221),ge=n(18),Se=n(62),ye=n(297),ke=n(40),De=s.b.component.Toolbar;function we(){var e=r.a.useCallback((function(){return[{icon:"arrow-both",id:"tools",title:"Layout the right SidePane"}]}),[]);return Object(y.jsxs)("div",{className:"mySidePane",children:[Object(y.jsx)(m.b,{title:Object(v.a)("demo.rightSidebar.title","Tools"),toolbar:Object(y.jsx)(De,{data:e()})}),Object(y.jsx)(m.a,{children:Object(y.jsx)("p",{style:{textAlign:"center"},children:"Right Side Pane"})})]})}var Te,Ce={id:"mySidePane",title:"Tools",render:function(){return Object(y.jsx)(we,{})}},Fe=n(20),Pe=n(296),Be=n(104),ze=n(208),Ne=(n(845),E.a.resolve(ke.l)),Me=E.a.resolve(Pe.a),Ee=M.a.img(Te||(Te=Object(N.a)(["\n    height: 25px;\n    margin: 0 12px;\n"])));var Ie=Object(Se.connect)(Ne,(function(e){var t=e.data,n=e.onClick,r=e.updateFocusinEle,c=Object(a.useCallback)((function(e){null===r||void 0===r||r(e.target)}),[r]);return Object(a.useEffect)((function(){return document.body.addEventListener("focusin",c),function(){document.body.removeEventListener("focusin",c)}}),[c]),Object(y.jsxs)("div",{className:"myMenuBar",children:[Object(y.jsx)(Ee,{alt:"logo",src:"logo@1x.png"}),Object(y.jsx)(Be.Menu,{role:"menu",mode:Be.MenuMode.Horizontal,trigger:"click",onClick:function(e,t){null===n||void 0===n||n(e,t)},style:{width:"100%"},data:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.concat(),n=Object(Fe.a)(t);n.length;){var a=n.pop();if(a)if(null===a||void 0===a?void 0:a.data)n.push.apply(n,Object(Fe.a)(a.data));else{var r=ze.a.queryGlobalKeybinding(a.id)||[];r.length&&(a.keybinding=ze.a.convertSimpleKeybindingToString(r))}}return t}(t)})]})}),Me),Re=Ie,Ue=Object(ge.e)("mainBench"),Le=Object(ge.e)("workbench"),qe=Object(ge.e)("compositeBar"),_e=Object(ge.a)(xe.a,Object(ge.d)()),Ae=E.a.resolve(ye.a),He=E.a.resolve(ke.k);var Je=Object(Se.connect)(He,(function(e){var t=e.activityBar,n=e.menuBar,a=e.panel,r=e.sidebar,c=e.statusBar,i=e.onPaneSizeChange,o=e.onHorizontalPaneSizeChange,s=e.splitPanePos,u=e.horizontalSplitPanePos;return Object(y.jsxs)("div",{id:Oe.b,className:Object(ge.a)(_e,"myMolecule"),tabIndex:0,children:[Object(y.jsxs)("div",{className:Le,children:[!n.hidden&&Object(y.jsx)(Re,{}),Object(y.jsxs)("div",{className:Ue,children:[Object(y.jsx)("div",{className:qe,children:!t.hidden&&Object(y.jsx)(me.b,{})}),Object(y.jsxs)(be.a,{split:"vertical",primary:"first",allowResize:!0,onChange:i,children:[Object(y.jsx)(he.a,{minSize:"170px",initialSize:s[0],maxSize:"80%",className:r.hidden&&"hidden",children:Object(y.jsx)(m.d,{})}),Object(y.jsx)(be.a,{primary:"first",split:"horizontal",allowResize:!0,onChange:o,children:function(e,t){var n=Object(y.jsx)(he.a,{initialSize:t?"100%":u[0],maxSize:"100%",minSize:"10%",children:Object(y.jsx)(fe.b,{})},"editorView"),a=Object(y.jsx)(he.a,{children:Object(y.jsx)(pe.a,{})},"panelView");return t?n:e?a:[n,a]}(!!a.panelMaximized,!!a.hidden)}),Object(y.jsx)(he.a,{minSize:"40px",initialSize:"240px",maxSize:"40%",className:"rightSidebar",children:Object(y.jsx)(m.c,{current:Ce.id,panes:[Ce]})})]})]})]}),!c.hidden&&Object(y.jsx)(ve.b,{})]})}),Ae);n(846);window.__DEVELOPMENT__=!1;var Ve=function(){return Object(y.jsx)("div",{className:"App",children:Object(y.jsx)(s.a,{extensions:de,children:Object(y.jsx)(Je,{})})})},Ge=function(e){e&&e instanceof Function&&n.e(83).then(n.bind(null,929)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(o.a,{children:Object(y.jsx)(Ve,{})})}),document.getElementById("root")),Ge()}},[[847,3,4]]]);
//# sourceMappingURL=main.d21cbdfe.chunk.js.map